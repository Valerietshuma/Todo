<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/Styles.css">
  <title>To-Do List</title>
  
</head>
<body>
  <div class="container">
    <div class="card">
      <div class="container_copy">
    <h1>
      <img src="images/dolis.png" alt="To-Do Icon" class="todo-icon">
      
      To-Do List
    </h1>

    <div class="row">
    <input type="text" id="task-input" placeholder="Add a new task" />
    <button id="add-task-btn">
      <i class="fa fa-plus" aria-hidden="true"></i>
    </button>
    </div>
    <div class="lists">
      <ul id="todo-list"></ul>
    </div>
  </div>
    </div>
  </div>


    <div class= "seccontainer" >   
           
  <div class="cards">
  <div class="container_copy">  
                
            <!-- task list -->
  <h2>Task List</h2>
  <ul id="list-container"></ul>
            <hr />
            <!-- task list counter -->
                  <div id="task-counters">
                    Completed: <span id="completed-counter">0</span> | Uncompleted:
                    <span id="uncompleted-counter">0</span>
                  </div>
                </div>  
                </div>
                </div>

  </div>
  </div>
  
  <script>
    // Variables for DOM elements
    const taskInput = document.getElementById('task-input');
    const addTaskButton = document.getElementById('add-task-btn');
    const todoList = document.getElementById('todo-list');
    const completedCounter = document.getElementById("completed-counter");
    const uncompletedCounter = document.getElementById("uncompleted-counter");
  
    // In-memory store for tasks (acting as a mock database)
    let TodoL = [];
  
    // Function to update the task counters
    function updateCounters() {
      const completedTasks = TodoL.filter(todo => todo.completed).length;
      const uncompletedTasks = TodoL.length - completedTasks;
      completedCounter.textContent = completedTasks;
      uncompletedCounter.textContent = uncompletedTasks;
    }
  
    // Function to fetch and render all tasks
    function fetchTasks() {
      todoList.innerHTML = ''; 
      TodoL.forEach(todo => {
        const li = document.createElement('li');
        li.classList.toggle('completed', todo.completed);
  
        const text = document.createElement('span');
        text.textContent = todo.text;
  
        const taskButtons = document.createElement('div');
        taskButtons.classList.add('task-buttons');
  
        // Create Complete button
        const completeButton = document.createElement('button');
        completeButton.classList.add('complete-btn');
        completeButton.innerHTML = '<i class="fas fa-check"></i>';
        completeButton.onclick = () => markCompleted(todo.id);
  
        // Create Incomplete button
        const incompleteButton = document.createElement('button');
        incompleteButton.classList.add('incomplete-btn');
        incompleteButton.innerHTML = '<i class="fa fa-pencil-square" aria-hidden="true"></i>';
        incompleteButton.onclick = () => markIncomplete(todo.id);
  
        // Create Delete button
        const deleteButton = document.createElement('button');
        deleteButton.classList.add('delete-btn');
        deleteButton.innerHTML = '<i class="fa fa-trash" aria-hidden="true"></i>'; 
        deleteButton.onclick = () => deleteTask(todo.id);
  
        // Append the buttons to the taskButtons div
        taskButtons.appendChild(completeButton);
        taskButtons.appendChild(incompleteButton);
        taskButtons.appendChild(deleteButton);
  
        // Append the task text and buttons to the list item
        li.appendChild(text);
        li.appendChild(taskButtons);
        todoList.appendChild(li);
      });
      // Update counters after fetching tasks
      updateCounters();
    }
  
    // Function to add a new task
    addTaskButton.addEventListener('click', () => {
      const taskText = taskInput.value.trim();
      if (taskText) {
        const newTodo = {
          id: TodoL.length + 1,
          text: taskText,
          completed: false
        };
        TodoL.push(newTodo);
        taskInput.value = ''; 
        fetchTasks();
      }
    });
  
    // Function to mark a task as completed
    function markCompleted(id) {
      const todo = TodoL.find(todo => todo.id === id);
      if (todo) {
        todo.completed = true;
        fetchTasks(); 
      }
    }
  
    // Function to mark a task as incomplete
    function markIncomplete(id) {
      const todo = TodoL.find(todo => todo.id === id);
      if (todo) {
        todo.completed = false;
        fetchTasks(); 
      }
    }
  
    // Function to delete a task
    function deleteTask(id) {
      TodoL = TodoL.filter(todo => todo.id !== id);
      fetchTasks(); 
    }
  
    // Initialize the task list when the page loads
    fetchTasks();
  </script>
  
</body>
</html>
